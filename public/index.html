
<!doctype html>

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://distill.pub/template.v2.js"></script>
<!-- <script src="js/_distill/template.v2.js"></script> -->

  <!-- bootstrap -->
<!-- <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>

<script src="js/lib/webgl_utils/webgl-utils.js"></script>
<script src="js/lib/webgl_utils/initShaders2.js"></script>
<script src="js/lib/webgl_utils/MV.js"></script>
<script src="js/lib/numeric-1.2.6.js"></script>
<script src="js/lib/math.js"></script>
<script src="js/lib/lz-string.js"></script>
<script src="js/lib/d3/v5/d3.js"></script>

<script src="js/modules/utils.js"></script>
<script src="js/modules/constants.js"></script>
<script src="js/modules/GrandTour.js"></script>

<script src="js/modules/TeaserRenderer.js"></script>
<script src="js/modules/TeaserOverlay.js"></script>

<script src="js/modules/SoftmaxComparisonRenderer.js"></script>
<script src="js/modules/SoftmaxComparisonOverlay.js"></script>

<!-- <script src="js/modules/ConfusionMatrixRenderer.js"></script> -->

<script src="js/modules/TesseractRenderer.js"></script>
<script src="js/modules/TesseractOverlay.js"></script>

<!-- <script src="js/modules/NeuralNetRenderer.js"></script> -->
<script src="js/modules/NeuralNetOverlay.js"></script>

<script src="js/modules/SmallMultipleRenderer.js"></script>
<script src="js/modules/SmallMultipleOverlay.js"></script>
<script src="js/sm0.js"></script>

<script src="js/modules/LayerTransitionRenderer.js"></script>
<script src="js/modules/LayerTransitionOverlay.js"></script>

<script src="js/modules/LossHistoryRenderer.js"></script>


<script>
  utils.cacheAll(constants.preloadUrls);

  //Note: safari does not support window.requestIdleCallback
  if(window.requestIdleCallback){ 
    for (let url of constants.layerTransitionUrls['fashion-mnist']){
      window.requestIdleCallback(()=>{utils.cacheAll([url,] )});
    }
    for (let url of constants.adversarialUrls){
      window.requestIdleCallback(()=>{utils.cacheAll([url,] )});
    }
  }
  
  
  // window.requestIdleCallback(()=>{utils.cacheAll(constants.adversarialUrls)});
  // window.requestIdleCallback(()=>{utils.cacheAll(constants.layerTransitionUrls['fashion-mnist'])});
  // window.requestIdleCallback(()=>{utils.cacheAll(constants.layerTransitionUrls['mnist'])});
  // window.requestIdleCallback(()=>{utils.cacheAll(constants.layerTransitionUrls['cifar10'])});
  // 

  let allViews = [];// teaser, nn2, sm0, nngt, tesseract, se, dm1, nngt2, lt2, lta];
</script>

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="css/style.css">
<link rel="stylesheet" media="screen and (max-width: 1024px)" href="css/small-screen.css">

<style>
.nav{
  display: block;
}
</style>

<title>Dimension Bros</title>

</head>

<body>



<script>
  let c = utils.CLEAR_COLOR.map(d=>d*255);
  d3.selectAll('.flex-item')
  .style('background', d3.rgb(...c))
</script>

<d-article>



<i id="nngt-single-epoch-a"></i>

<d-figure class='nngt-single-epoch-1' style="">
  <canvas id='nngt-single-epoch-1' class='grandtour'></canvas>
  <script src='js/se1.js'></script>
  <script>   
    var panning = false;
    var oldMouseX = 0;
    var oldMouseY = 0;

    document.onmousedown = handleMouseDown;
    document.onmouseup = handleMouseUp;
    document.onmousemove = handleMouseMove;
    
    function handleMouseDown(e) {
      e = e || window.event;
      //console.log(e.pageX);
      //console.log(e.pageY);
      var graphMid = window.innerWidth/2;
      graphMid -= 48;
      var horOffset = 305;
      //var verOffset = 183;
      console.log(graphMid + horOffset);

      if (e.pageX > graphMid - horOffset 
          && e.pageX < graphMid + horOffset  
          && e.pageY > 65 
          && e.pageY < 430) { // magic numbers roughly correlating to the graphs location
        panning = true;
      }
      oldMouseX = e.pageX;
      oldMouseY = e.pageY;
    }

    function handleMouseUp(e) {
      e = e || window.event;

      panning = false;
    }

    function handleMouseMove(e) {
      e = e || window.event;

      if (panning) {
        se1.xOffset += e.pageY-oldMouseY;
        se1.yOffset += e.pageX-oldMouseX;
      }
      oldMouseX = e.pageX;
      oldMouseY = e.pageY;
    }

    // arrow keys to pan
    document.onkeydown = (e) => {
      if (e.keyCode === 38) { //up
        se1.xOffset -= 10;
      } else if (e.keyCode === 40) { //down
        se1.xOffset += 10;
      } else if (e.keyCode === 37) { //left
        se1.yOffset -= 10;
      } else if (e.keyCode === 39) { //right
        se1.yOffset += 10;
      }
    };

    //Zoom in and out via scrool wheel
    window.addEventListener("wheel", event => {
      const delta = Math.sign(event.deltaY);
      if (delta < 0) {
        
        se1.scaleFactor += 0.1; //up
        if (se1.scaleFactor > 5) { //max zoom
          se1.scaleFactor = 5;
        }
      } else if (delta > 0) {
        se1.scaleFactor -= 0.1; //down
        if (se1.scaleFactor < 0.2) { //min zoom
          se1.scaleFactor = 0.2;
        }
      }
    });
    

    
    </script>
</d-figure>
<figcaption>
  The Grand Tour of softmax layer, with 
  <a onclick="utils.setDataset('mnist');">MNIST</a>, 
  <a onclick="utils.setDataset('fashion-mnist');">fashion-MNIST</a> or 
  <a onclick="utils.setDataset('cifar10');">CIFAR-10</a> dataset.
</figcaption>



  </ul>
</p>


</d-article>



<script type="text/javascript" src="index.bundle.js"></script></body>
